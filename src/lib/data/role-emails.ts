export const roleBasedPrefixes = new Set([
  'abuse',
  'admin',
  'administrator',
  'billing',
  'blog',
  'board',
  'careers',
  'compliance',
  'contact',
  'copyright',
  'customerservice',
  'dev',
  'developer',
  'developers',
  'devnull',
  'dns',
  'editor',
  'enquiries',
  'enquiry',
  'feedback',
  'finance',
  'ftp',
  'general',
  'hello',
  'help',
  'helpdesk',
  'hostmaster',
  'hr',
  'info',
  'information',
  'inoc',
  'inquiry',
  'jobs',
  'legal',
  'list',
  'listmaster',
  'lists',
  'mail',
  'maildaemon',
  'mailer-daemon',
  'mailerdaemon',
  'mailmaster',
  'marketing',
  'media',
  'member',
  'members',
  'news',
  'newsletter',
  'no-reply',
  'nobody',
  'noc',
  'noreply',
  'null',
  'office',
  'operations',
  'ops',
  'order',
  'orders',
  'postmaster',
  'pr',
  'press',
  'privacy',
  'purcharsing',
  'reception',
  'registrar',
  'remove',
  'reply',
  'request',
  'reseller',
  'resellers',
  'root',
  'sales',
  'security',
  'service',
  'services',
  'shop',
  'spam',
  'staff',
  'store',
  'subscribe',
  'subscriptions',
  'support',
  'sysadmin',
  'team',
  'tech',
  'technical',
  'test',
  'undisclosed-recipients',
  'unsubscribe',
  'usenet',
  'uucp',
  'webmaster',
  'welcome',
  'www',
  'www-data'
]);

export function getRoleFromEmail(localPart: string): string | null {
  const normalized = localPart.toLowerCase().replace(/[._-]/g, '');

  for (const role of roleBasedPrefixes) {
    const normalizedRole = role.replace(/[._-]/g, '');
    if (normalized === normalizedRole || normalized.startsWith(normalizedRole)) {
      return role;
    }
  }

  return null;
}
